{"version":3,"sources":["webpack:///./client/maps/properties.js","webpack:///./client/index.js","webpack:///./client/actions/mapaction.js","webpack:///./client/actions/nodes.js","webpack:///./client/components/addnode.js","webpack:///./client/components/dialog.js","webpack:///./client/components/edit.js","webpack:///./client/components/editnode.js","webpack:///./client/components/grid.js","webpack:///./client/components/index.js","webpack:///./client/components/map.js","webpack:///./client/components/mapdetail.js","webpack:///./client/components/removenode.js","webpack:///./client/devtool.js","webpack:///./client/maps/node.js","webpack:///./client/reducers/index.js","webpack:///./client/reducers/maps.js","webpack:///./client/reducers/node.js","webpack:///./client/routes.js","webpack:///./client/sagas/index.js","webpack:///./client/sagas/mapsaga.js","webpack:///./client/sagas/nodesaga.js","webpack:///./client/sagas/notificationSaga.js","webpack:///./client/serviceloader.js","webpack:///./client/store.js","webpack:///./client/utils/canvas.js","webpack:///./client/utils/index.js","webpack:///./client/actions/index.js","webpack:///./client/maps/index.js"],"names":["module","exports","textFilter","label","type","val","fontSize","model","min","max","connectorWidth","connectorSteepness","step","connectorLineWidth","nodeMarginTop","nodeMarginBottom","useGrayscale","document","getElementById","update","editTreeNode","createTreeNode","removeTreeNode","id","parent","data","payload","actionCreators","canvasUtils","AddNode","props","state","name","description","margin","marginTop","marginLeft","e","setState","target","value","onOk","bind","params","node","mapStateToProps","maps","mapDispatchToProps","dispatch","ModelDialog","title","children","open","okName","cancelName","onCancel","propTypes","string","isRequired","bool","func","defaultProps","canvasMaps","themes","getRandom","arr","Math","floor","random","length","EditMap","console","log","offset","offsetWidth","onEdit","onAdd","onClose","editUrl","addUrl","removeUrl","theme","display","width","border","color","textTransform","background","map","child","push","Edit","filter","x","transform","textAlign","onRemove","verb","getUrlFor","EditNode","transformed","tfm","find","GridList","i","require","isProduction","App","Map","RemoveNode","canvas","refs","can","treedata","draw","MapDetail","viewName","editName","align","goBack","utils","fontFamily","labelPaddingBottom","labelPaddingRight","DEBUG","TreeNode","isRoot","labelLines","split","undefined","addChild","currentBranchColor","that","dl","y","c","w","ctx","fillStyle","fillRect","dr","h","lineWidth","strokeStyle","rect","stroke","createElement","getContext","font","textHeight","composedHeight","paddedHeight","labelHeight","labelWidth","ceil","measureText","isLeaf","height","fillText","anchorPoint","branchColors","generateRandomColor","canvases","childrenVerticalPositions","childrenHeight","leftMargin","drawImage","connector_a","connector_b","beginPath","moveTo","bezierCurveTo","lineTo","lineCap","roundRect","reducers","nodes","action","routes","rootSaga","createMapSaga","getMapDetails","getMaps","get","results","editNodeForTree","addNodeForTree","removeNodeForTree","editNodeDetails","addNodeDetails","removeNodeDetails","editNode","put","result","message","addNode","post","removeNode","delete","watch","notification","text","ServiceLoader","scriptname","script","onSuccess","onError","navigator","serviceWorker","register","then","reg","catch","err","waiting","installing","self","controller","emit","track","onTrack","addEventListener","window","location","reload","error","event","enhancers","sagaMiddleWare","middleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","run","getRandomInt","radius","fill","tl","tr","br","bl","defaultRadius","side","quadraticCurveTo","closePath","componentToHex","hex","toString","rgbToHex","r","g","b","baseColor","red","green","blue","mixture","round","parseObjectTree","parseTree","branch","tree","context","key","pair","childs","child_key","new_pair","index"],"mappings":"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","file":"bundle.js","sourcesContent":["module.exports.textFilter = {label: 'Text Filter (regex)', type: 'text', val: \".\"};\nmodule.exports.fontSize = {label: \"Font size\", model: \"fontSize\",  min: 5, max: 50, val: 13};\nmodule.exports.connectorWidth = {label: 'Connector width', model: \"connectorWidth\", min: 20, max: 100, val: 65};\nmodule.exports.connectorSteepness = {label: 'Connector steepness', min: 0.1, max:1, step:0.01, val: 0.65};\nmodule.exports.connectorLineWidth = {label: 'Line width', min: 0.5, max: 10, step: 0.25, val: 4.5};\nmodule.exports.nodeMarginTop = {label:' Top margin', min: 0, max: 50, val: 5};\nmodule.exports.nodeMarginBottom = {label:' Bottom margin', min: 0, max: 50, val: 5};\nmodule.exports.useGrayscale = {label: 'Use grayscale', type: 'boolean', val: 0};\n\n\n// WEBPACK FOOTER //\n// ./client/maps/properties.js","import React from 'react';\nimport {\n    render\n}\nfrom 'react-dom';\nimport routes from './routes';\nimport {\n    Provider\n}\nfrom 'react-redux';\nimport store from './store';\nimport Sloader from './serviceloader';\n\n// if ('serviceWorker' in navigator) {\n//     const loader = new Sloader('./sw.js');\n//     loader.on('update', function(reg){\n//         console.log('updating');\n//         reg.postMessage({\n//             action: 'skip'\n//         });\n//     });\n//     loader.on('installed', () => {console.log(\"installed\")});\n// }\nrender((<Provider store={store}>{routes}</Provider>), document.getElementById(\"app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.js","export function update(){\n    return {\n        type: 'FETCH_MAPS'\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/actions/mapaction.js","export function editTreeNode(id, parent, data) {\n    return {\n        type: 'EDIT_TREE_NODE',\n        payload: {\n            id,\n            parent,\n            data\n        }\n    }\n}\n\nexport function createTreeNode(id, parent, data){\n    return {\n        type: 'CREATE_TREE_NODE',\n        payload: {\n            id,\n            parent,\n            data\n        }\n    }\n}\n\nexport function removeTreeNode(id, parent){\n    return {\n        type: 'REMOVE_TREE_NODE',\n        payload: {\n            id,\n            parent\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/actions/nodes.js","import React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {Textfield, Button, Card, CardTitle, CardText, CardActions} from 'react-mdl';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\nimport * as canvasUtils from '../maps';\n\nclass AddNode extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            name: '',\n            description: ''\n        };\n    }\n\n    render(){\n        const {name, description} = this.state;\n        return (<Card shadow={0} style={{margin: \"auto\", marginTop: 50}}>\n                <CardTitle> Add New Node </CardTitle>\n                <CardText>\n                <Textfield label=\"Name\"\n                           value={name}\n                           style={{marginLeft: 5}}\n                           required\n                           onChange={(e) => this.setState({name: e.target.value})}/>\n                <Textfield label=\"Description\"\n                           value={description}\n                           rows={3}\n                           style={{marginLeft: 5}}\n                           required\n                           onChange={(e) => this.setState({description: e.target.value})}/>\n                </CardText>\n                <CardActions>\n                <Button primary onClick={this.onOk.bind(this)}> Create </Button>\n                </CardActions>\n               </Card>)\n    }\n\n    onOk(){\n        const {id, node} = this.props.params;\n        this.props.createTreeNode(id, node, this.state);\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nAddNode = connect(mapStateToProps, mapDispatchToProps)(AddNode);\n\nexport default AddNode;\n\n\n// WEBPACK FOOTER //\n// ./client/components/addnode.js","import React, {Component, PropTypes} from 'react';\nimport {Dialog, DialogTitle, DialogContent, DialogActions, Button} from 'react-mdl';\n\nexport default class ModelDialog extends Component{\n    \n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        const {\n            title,\n            children,\n            open,\n            okName,\n            cancelName,\n            onOk,\n            onCancel,\n            data\n        } = this.props;\n\n        return (<div>\n            <Dialog open={open}>\n                <DialogTitle>{title}</DialogTitle>\n                <DialogContent>{children}</DialogContent>\n                <DialogActions>\n                    <Button type='button' onClick={onOk}>{okName}</Button>\n                    <Button type='button' onClick={onCancel}>{cancelName}</Button>\n                </DialogActions>\n            </Dialog>\n        </div>)\n    }\n}\n\n\nModelDialog.propTypes = {\n    title: PropTypes.string.isRequired,\n    open: PropTypes.bool.isRequired,\n    okName: PropTypes.string.isRequired,\n    cancelName: PropTypes.string.isRequired,\n    onOk: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired\n}\n\nModelDialog.defaultProps = {\n    open: false,\n    data: {}\n}\n\n\n// WEBPACK FOOTER //\n// ./client/components/dialog.js","import React, {Component, PropTypes} from 'react';\nimport {Card, CardTitle, CardActions, CardMenu, IconButton, CardText} from 'react-mdl';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\nimport * as canvasMaps from '../maps';\nimport {hashHistory} from 'react-router';\n\n\nconst themes = [\"Indigo\", \"Teal\", \"Green\", \"Red\", \"Orange\"];\nconst getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];\n\nclass EditMap extends Component{\n    constructor(props){\n        super(props);\n    }\n    \n    render(){\n    console.log(this.props);\n    const {data, offset, offsetWidth, id, onEdit, onAdd, onClose} = this.props;\n    const editUrl = onEdit(id);\n    const addUrl = onAdd(id);\n    const removeUrl = onClose(id);\n    const theme = getRandom(themes);\n    console.log(data.children);\n    return (<Card shadow={0} style={{marginLeft: offset, display: \"inline-block\", width: offsetWidth, border: \"0.5px solid \"+ theme}}>\n               <CardTitle style={{color: \"white\", textTransform: \"uppercase\", background: theme}}> {data.name} </CardTitle>\n               {\n                   data.children.map((child) => <EditMap data={child} \n                                                         key={child.id}\n                                                         offset={offset + 5}\n                                                         offsetWidth={offsetWidth - 9}\n                                                         id={child.id}\n                                                         onAdd={onAdd}\n                                                         onEdit={onEdit}\n                                                         onClose={onClose}/>)\n               }\n               <CardText style={{color: \"black\"}}>{data.description}</CardText>\n               <CardMenu style={{color: 'white'}}>\n                    <IconButton name=\"edit\" onClick={() =>  hashHistory.push(editUrl)}/>\n                    <IconButton name=\"add\"  onClick={() =>  hashHistory.push(addUrl)}/>\n                    <IconButton name=\"close\" onClick={() => hashHistory.push(removeUrl)} />\n              </CardMenu>\n           </Card>)\n    }\n}\n\nEditMap.defaultProps = {\n    offset: 0,\n    offsetWidth: 500\n}\n\n\nclass Edit extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        const {params} = this.props;\n        const maps = this.props.maps.filter((x) => x.id == params.id);\n        const data = canvasMaps.transform(maps[0].map);\n        console.log(data);\n        console.log(\"rendering\");\n        return (<div style={{margin: \"auto\", textAlign: \"center\", width: \"50%\", marginTop: 10}}>\n                   <EditMap data={data} \n                            offset={0}\n                            id={data.id}\n                            onEdit={this.onEdit.bind(this)}\n                            onAdd={this.onAdd.bind(this)}\n                            onClose={this.onRemove.bind(this)}/>\n                </div>)\n    }\n\n    getUrlFor(id, verb){\n        return `/${this.props.params.id}/${verb}/${id}`\n    }\n\n    onEdit(id){\n        return this.getUrlFor(id, 'edit');\n    }\n\n    onRemove(id){\n        return this.getUrlFor(id, 'remove');\n    }\n\n    onAdd(id){\n        return this.getUrlFor(id, 'add');\n    }\n}\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nEdit = connect(mapStateToProps, mapDispatchToProps)(Edit);\n\nexport default Edit;\n\n\n// WEBPACK FOOTER //\n// ./client/components/edit.js","import React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {Textfield, Button, Card, CardTitle, CardText, CardActions} from 'react-mdl';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\nimport * as canvasUtils from '../maps';\n\nclass EditNode extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            name: '',\n            description: ''\n        };\n    }\n\n    componentWillMount(){\n        const {id, node} = this.props.params;\n        console.log(\"Current Node ID\", node);\n        const data = this.props.maps\n                               .filter((x) => x.id == id);\n        const transformed = data[0].map;\n        const tfm = canvasUtils.transform(transformed);\n        console.log(tfm);\n        const {name, description} = canvasUtils.find(tfm, node);\n        this.setState({\n            name,\n            description\n        });\n    }\n\n    componentDidMount(){\n\n    }\n\n    render(){\n        const {name, description} = this.state;\n        return (<Card shadow={0} style={{margin: \"auto\", marginTop: 50}}>\n                <CardTitle> Edit Node </CardTitle>\n                <CardText>\n                <Textfield label=\"Name\"\n                           value={name}\n                           style={{marginLeft: 5}}\n                           required\n                           onChange={(e) => this.setState({name: e.target.value})}/>\n                <Textfield label=\"Description\"\n                           value={description}\n                           rows={3}\n                           style={{marginLeft: 5}}\n                           required\n                           onChange={(e) => this.setState({description: e.target.value})}/>\n                </CardText>\n                <CardActions>\n                <Button primary onClick={this.onOk.bind(this)}> Update </Button>\n                </CardActions>\n               </Card>)\n    }\n\n    onOk(){\n        const {id, node} = this.props.params;\n        this.props.editTreeNode(id, node, this.state);\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nEditNode = connect(mapStateToProps, mapDispatchToProps)(EditNode);\n\nexport default EditNode;\n\n\n// WEBPACK FOOTER //\n// ./client/components/editnode.js","import React, {Component, PropTypes} from 'react';\nimport {Grid, Card, Cell, CardTitle, CardText, CardActions, Button} from 'react-mdl';\nimport MapDetail from './mapdetail';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\n\n\nclass GridList extends Component{\n    constructor(props){\n        super(props);\n    }\n    \n    componentWillMount(){\n        this.props.update();\n    }\n\n    render(){\n        const {maps} = this.props;\n        console.log(maps);\n        return (<Grid>\n            <Cell col={12} align=\"middle\">\n                {maps.map((x, i) => <MapDetail {...x} key={i}/>)}\n            </Cell>\n            </Grid>);\n    }\n}\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nGridList = connect(mapStateToProps, mapDispatchToProps)(GridList);\n\nexport default GridList;\n\n\n// WEBPACK FOOTER //\n// ./client/components/grid.js","import React, {Component} from 'react';\nimport {Layout, Header, Navigation, Content} from 'react-mdl';\nimport {Link} from 'react-router';\nimport GridList from './grid';\nimport Map from './map';\nimport Edit from './edit';\nimport DevTools from '../devtool';\nimport EditNode from './editnode';\nimport AddNode from './addnode';\nimport RemoveNode from './removenode';\nrequire('js-snackbar/dist/snackbar.css');\n\n\nconst isProduction = process.env.NODE_ENV === 'production';\n\nclass App extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        return (<div style={{width: 100}}>\n            <Layout fixedHeader>\n                <Header title=\"DEVMAP\">\n                   <Navigation>\n                       <Link to=\"/add/new\">Add New</Link>\n                   </Navigation>    \n                </Header>\n                {this.props.children}\n            </Layout>\n        </div>);\n    }\n}\n\nexport {App};\nexport {GridList};\nexport {Map};\nexport {Edit};\nexport {EditNode};\nexport {AddNode};\nexport {RemoveNode};\n\n\n// WEBPACK FOOTER //\n// ./client/components/index.js","import React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\nimport * as canvasMaps from '../maps';\n\nclass Map extends Component {\n    constructor(props){\n        super(props);\n    }\n\n    componentDidMount(){\n       const canvas =  this.refs.can;\n       const {params} = this.props;\n       const maps = this.props.maps.filter((x) => x.id == params.id);\n       console.log(maps[0].map);\n       const treedata = canvasMaps.transform(maps[0].map);\n       canvasMaps.draw(canvas, treedata);\n    }\n\n    render(){\n        return (<canvas ref=\"can\" style={{ display: \"block\", margin: \"auto\" }}></canvas>);\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nMap = connect(mapStateToProps, mapDispatchToProps)(Map);\n\nexport default Map;\n\n\n// WEBPACK FOOTER //\n// ./client/components/map.js","import React, {Component, PropTypes} from 'react';\nimport {Card, CardText, CardTitle, CardActions, Button} from 'react-mdl';\nimport { Link , hashHistory} from 'react-router';\n\nclass MapDetail extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        const {name, description, id} = this.props;\n        const viewName = \"/view/\"+id;\n        const editName = \"/edit/\"+id;\n        return (<Card  shadow={1} style={{margin: '5px auto'}}>\n          <CardTitle expand style={{color: 'blue', align: 'center'}}>{name}</CardTitle>\n          <CardText>\n              {description}\n         </CardText>\n          <CardActions border>\n            <Button primary ripple={true} onClick={() => hashHistory.push(viewName)}>View Map</Button>\n            <Button primary ripple={true} onClick={() => hashHistory.push(editName)}>Edit Map</Button>\n          </CardActions>\n        </Card>);\n    }\n}\n\nexport default MapDetail;\n\n\n// WEBPACK FOOTER //\n// ./client/components/mapdetail.js","import React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {Textfield, Button, Card, CardTitle, CardText, CardActions} from 'react-mdl';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\nimport * as canvasUtils from '../maps';\nimport ModelDialog from './dialog';\nimport {browserHistory} from 'react-router';\n\nclass RemoveNode extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    onCancel(){\n        browserHistory.goBack();\n    }\n\n    onOk(){\n        const {id, node} = this.props.params;\n        this.props.removeTreeNode(id, node);\n    }\n\n    render(){\n      return (<ModelDialog open={true}\n                           title=\"Confirmation\"\n                           okName=\"Delete It!\"\n                           cancelName=\"Retreat!\"\n                           onOk={this.onOk.bind(this)}\n                           onCancel={this.onCancel.bind(this)}>\n               <p> Are you sure with the action to delete the node ? </p>\n              </ModelDialog>)\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nRemoveNode = connect(null, mapDispatchToProps)(RemoveNode);\n\nexport default RemoveNode;\n\n\n// WEBPACK FOOTER //\n// ./client/components/removenode.js","import React from 'react';\nimport {createDevTools} from 'redux-devtools';\nimport LogMonitor from 'redux-devtools-log-monitor';\nimport DockMonitor from 'redux-devtools-dock-monitor';\nimport Dispatcher from 'redux-devtools-dispatch';\nimport SliderMonitor from 'redux-slider-monitor';\n/**\n * Create the DevTools component and export it.\n */\nexport default createDevTools(\n  <DockMonitor\n    toggleVisibilityKey='ctrl-h'\n    changePositionKey='ctrl-q'\n    changeMonitorKey=\"ctrl-m\"\n    defaultIsVisible={true}\n  >\n    <LogMonitor theme='tomorrow' />\n    <Dispatcher />\n    <SliderMonitor keyboardEnabled />\n  </DockMonitor>\n);\n\n\n// WEBPACK FOOTER //\n// ./client/devtool.js","import * as utils from '../utils';\nimport treeProperties from './properties';\n\nvar fontFamily = \"Open Sans\";\n\nvar labelPaddingBottom = 8;\nvar labelPaddingRight = 10;\n\nvar DEBUG = false;\n\nexport default class TreeNode {\n\n    constructor(label, isRoot = false) {\n        this.name = label;\n        this.labelLines = this.name.split(\"\\n\");\n        this.isRoot = isRoot;\n        this.parent = undefined;\n        this.children = [];\n    }\n\n    get isLeaf() {\n        return this.children.length == 0;\n    }\n\n    addChild(child) {\n        child.parent = this;\n        this.children.push(child);\n    }\n\n    addChildren(...children) {\n        for (var child of children) {\n            this.addChild(child);\n        }\n    }\n\n    draw(currentBranchColor) {\n        var that = this;\n\n        var dl = function (x, y, c = \"#00ff00\", w = 100) {\n            that.ctx.fillStyle = c;\n            that.ctx.fillRect(x, y, w, 1);\n        };\n\n        var dr = function (x, y, w, h, c = \"#00ff00\") {\n            that.ctx.lineWidth = 1;\n            that.ctx.strokeStyle = c;\n            that.ctx.rect(x, y, w, h);\n            that.ctx.stroke();\n        };\n\n        this.canvas = document.createElement(\"canvas\");\n        this.ctx = this.canvas.getContext(\"2d\");\n\n        // The width of the label will be the width of the widest line\n        this.ctx.font = treeProperties.fontSize.val + \"px \" + fontFamily;\n\n        // The height of the lines of text (only)\n        this.textHeight = treeProperties.fontSize.val * (this.labelLines.length);\n\n        // The height of the text + the separation from the line + the line height + the label margin\n        this.composedHeight = this.textHeight + labelPaddingBottom + treeProperties.connectorLineWidth.val;\n\n        // The composed height plus the margin\n        this.paddedHeight = this.composedHeight + treeProperties.nodeMarginTop.val;\n\n        this.labelHeight =\n            treeProperties.nodeMarginTop.val + // top margin\n            treeProperties.fontSize.val * (this.labelLines.length + 1) + // text lines' height\n            treeProperties.nodeMarginBottom.val // bottom margin\n        ;\n\n        this.labelWidth = Math.ceil(Math.max(...this.labelLines.map(c => this.ctx.measureText(c).width)));\n\n        if (this.isLeaf) {\n            // Resize the canvas\n            this.canvas.width = this.labelWidth + labelPaddingRight * 2;\n            this.canvas.height = this.labelHeight;\n\n            // Set the font\n            this.ctx.font = treeProperties.fontSize.val + \"px \" + fontFamily;\n\n            // Draw the text lines\n            for (var i = 0; i < this.labelLines.length; i++) {\n                this.ctx.fillText(this.labelLines[i], 0, treeProperties.fontSize.val * (i + 1) + treeProperties.nodeMarginTop.val);\n            }\n\n            // The anchorPoint defines where the line should start\n            this.anchorPoint = {\n                x: 0,\n                y: (this.labelLines.length * treeProperties.fontSize.val) + labelPaddingBottom + treeProperties.nodeMarginTop.val\n            };\n        } else {\n            // If this is the root, we need to generate a random color for each branch\n            if (this.isRoot) {\n                var branchColors = this.children.map(c => utils.generateRandomColor(treeProperties.useGrayscale));\n                var canvases = this.children.map((c, i) => c.draw(branchColors[i]));\n            }\n\n            // Otherwise, use the received branchColor\n            else {\n                var canvases = this.children.map((c, i) => c.draw(currentBranchColor));\n            }\n\n            // Get the vertical positions for the children\n            var childrenVerticalPositions = [0];\n\n            // Each position is the sum of the acumulated heights of the previous elements\n            for (var i = 0; i < canvases.length; i++) {\n                childrenVerticalPositions[i + 1] = childrenVerticalPositions[i] + canvases[i].height;\n            }\n\n            let childrenHeight = childrenVerticalPositions[canvases.length];\n\n            this.anchorPoint = {\n                x: this.isRoot ? 10 : 0,\n                y: 0\n            };\n\n            /*\n             If the height of the children is smaller than the height of the node, take the height of the node and\n             don't center it vertically.\n             Otherwise, take the max between 2*height of the node and the children height, and center it vertically.\n             */\n\n            if (childrenHeight < this.composedHeight + treeProperties.nodeMarginTop.val * 2) {\n                this.canvas.height = this.composedHeight + treeProperties.nodeMarginTop.val * 2;\n                this.anchorPoint.y = this.canvas.height / 2 + this.composedHeight / 2;\n            } else {\n                this.canvas.height = Math.max(childrenVerticalPositions[canvases.length], this.composedHeight * 2);\n                this.anchorPoint.y = this.canvas.height / 2;\n            }\n\n            console.log(this.label, this.canvas.height, childrenVerticalPositions[canvases.length]);\n\n            // Compute left margin (label width + separation)\n            var leftMargin = 10 + this.labelWidth + treeProperties.connectorWidth.val;\n\n            // Set the width to the leftMargin plus the width of the widest child branch\n            this.canvas.width = leftMargin + Math.max(...canvases.map(c => c.width));\n            this.ctx.font = treeProperties.fontSize.val + \"px \" + fontFamily;\n\n\n            // Draw each child\n            for (var i = 0; i < canvases.length; i++) {\n                if (this.isRoot) {\n                    currentBranchColor = branchColors[i];\n                }\n\n                this.ctx.drawImage(canvases[i], leftMargin, childrenVerticalPositions[i]);\n\n                var connector_a = {\n                    x: this.anchorPoint.x + this.labelWidth + labelPaddingRight,\n                    y: this.anchorPoint.y\n                };\n\n                var connector_b = {\n                    x: leftMargin,\n                    y: childrenVerticalPositions[i] + this.children[i].anchorPoint.y\n                };\n\n                this.ctx.beginPath();\n                this.ctx.moveTo(connector_a.x, connector_a.y);\n\n                this.ctx.bezierCurveTo(\n                    connector_a.x + treeProperties.connectorSteepness.val * treeProperties.connectorWidth.val, connector_a.y,\n                    connector_b.x - treeProperties.connectorSteepness.val * treeProperties.connectorWidth.val, connector_b.y,\n                    connector_b.x, connector_b.y\n                );\n\n                this.ctx.lineTo(\n                    connector_b.x + this.children[i].labelWidth + labelPaddingRight,\n                    connector_b.y\n                );\n                this.ctx.lineWidth = treeProperties.connectorLineWidth.val;\n                this.ctx.lineCap = \"round\";\n                this.ctx.strokeStyle = currentBranchColor;\n                this.ctx.stroke();\n            }\n\n\n            // For the root node, print a containing rectangle and always center the text\n            if (this.isRoot) {\n                this.ctx.fillStyle = \"#ffffff\";\n                this.ctx.lineWidth = 3;\n                utils.roundRect(this.ctx,\n                    2, this.canvas.height / 2 - (this.labelLines.length) * treeProperties.fontSize.val,\n                    this.labelWidth + 18, treeProperties.fontSize.val * (this.labelLines.length + 1.5),\n                    5, true, true);\n\n                this.ctx.fillStyle = \"#000000\";\n\n                for (var i = 0; i < this.labelLines.length; i++) {\n                    this.ctx.fillText(\n                        this.labelLines[i],\n                        10, // Fixed margin from the left\n                        this.canvas.height / 2 // Vertical center\n                        +\n                        treeProperties.fontSize.val / 2 // Middle of the line height\n                        -\n                        treeProperties.fontSize.val * (this.labelLines.length - i - 1) // Correctly account for multilines\n                    );\n                }\n            } else {\n                this.ctx.fillStyle = \"#000000\";\n\n                for (var i = 0; i < this.labelLines.length; i++) {\n                    this.ctx.fillText(\n                        this.labelLines[i],\n                        10, // Fixed margin from the left\n                        this.anchorPoint.y // From the anchor point\n                        -\n                        labelPaddingBottom // Move up the padding\n                        -\n                        treeProperties.fontSize.val * (this.labelLines.length - i - 1)\n                    );\n                }\n            }\n        }\n\n        if (DEBUG) {\n            dr(1, 1, this.canvas.width - 1, this.canvas.height - 1);\n        }\n\n\n        return this.canvas;\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./client/maps/node.js","import { combineReducers } from \"redux\";\nimport maps from './maps';\nimport nodes from './node';\nexport const reducers = combineReducers({maps, nodes});\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/index.js","export default function maps(state=[], action){\n    switch(action.type){\n        case 'UPDATE_MAPS':\n            return [...action.maps];\n        default:\n            return state;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/maps.js","export default function nodes(state={}, action) {\n    switch (action.type) {\n        default:\n            return state;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/node.js","import {Router, Route, IndexRoute, Link, hashHistory} from 'react-router';\nimport {App, GridList, Map, Edit, EditNode, AddNode, RemoveNode} from './components';\n\nconst routes = (\n  <Router history={hashHistory}>\n      <Route path=\"/\" component={App}>\n         <IndexRoute component = {GridList} />\n         <Route path = \"/view/:id\" component = {Map} />\n         <Route path = \"/edit/:id\" component = {Edit} />\n         <Route path = \"/:id/edit/:node\" component = {EditNode} />\n         <Route path = \"/:id/add/:node\" component={AddNode} />\n         <Route path = \"/:id/remove/:node\" component={RemoveNode} />\n      </Route>\n  </Router>\n)\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./client/routes.js","import {\n  createMapSaga\n} from './mapsaga';\nimport {editNodeForTree,addNodeForTree, removeNodeForTree} from './nodesaga';\nimport NotifySaga from './notificationSaga';\n\nexport default function* rootSaga() {\n  yield [\n    createMapSaga(),\n    editNodeForTree(),\n    addNodeForTree(),\n    removeNodeForTree(),\n    NotifySaga()\n  ];\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/index.js","import axios from 'axios';\nimport {\n    put,\n    call,\n    takeEvery\n} from 'redux-saga/effects';\n\nfunction getMaps() {\n    return axios.get(\"/api/list\");\n}\n\nfunction* getMapDetails() {\n    const results = yield call(getMaps);\n    // console.log(results.data);\n    yield put({\n        type: 'UPDATE_MAPS',\n        maps: results.data\n    });\n}\n\nexport function* createMapSaga() {\n    yield takeEvery('FETCH_MAPS', getMapDetails);\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/mapsaga.js","import axios from 'axios';\nimport {\n    put,\n    call,\n    takeEvery\n} from 'redux-saga/effects';\nimport {\n    browserHistory\n} from 'react-router';\n\nfunction editNode(id, parent, data) {\n    return axios.put(`/api/${id}/edit/${parent}`, data);\n}\n\nfunction* editNodeDetails(action) {\n    const {\n        id,\n        parent,\n        data\n    } = action.payload;\n    try {\n        const result = yield call(editNode, id, parent, data);\n        console.log(result);\n        yield put({\n            type: 'FETCH_MAPS'\n        });\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Node updated done successfully\"\n        });\n        browserHistory.goBack();\n    } catch (e) {\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Error while updating node info\"\n        });\n    }\n}\n\nfunction addNode(id, parent, data) {\n    return axios.post(`/api/${id}/add/${parent}`, data);\n}\n\nfunction removeNode(id, parent){\n    return axios.delete(`/api/${id}/delete/${parent}`);\n}\n\nfunction* addNodeDetails(action) {\n    const {\n        id,\n        parent,\n        data\n    } = action.payload;\n    try {\n        const result = yield call(addNode, id, parent, data);\n        console.log(result);\n        yield put({\n            type: 'FETCH_MAPS'\n        });\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Node updated done successfully\"\n        });\n        browserHistory.goBack();\n    } catch (e) {\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Error while updating node info\"\n        });\n    }\n}\n\nfunction* removeNodeDetails(action) {\n    const {\n        id,\n        parent\n    } = action.payload;\n    try {\n        const result = yield call(removeNode, id, parent);\n        yield put({\n            type: 'FETCH_MAPS'\n        });\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Node updated done successfully\"\n        });\n        browserHistory.goBack();\n\n    } catch (e) {\n        yield put({\n            type: \"NOTIFY\",\n            message: \"Error while updating node info\"\n        });\n    }\n}\n\n\n\nexport function* editNodeForTree() {\n    yield takeEvery('EDIT_TREE_NODE', editNodeDetails);\n}\n\nexport function* addNodeForTree() {\n    yield takeEvery('CREATE_TREE_NODE', addNodeDetails);\n}\n\nexport function* removeNodeForTree(){\n    yield takeEvery('REMOVE_TREE_NODE', removeNodeDetails);\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/nodesaga.js","import {\n    put,\n    call,\n    takeEvery\n} from 'redux-saga/effects';\nimport {show, ACTION_TYPE} from 'js-snackbar';\n\n\nfunction *notification(action){\n   const {message} = action;\n   show({text: message});\n}\n\n\nexport default function* watch(){\n    yield takeEvery(\"NOTIFY\", notification);\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/notificationSaga.js","import EventEmitter from 'events';\n\nclass ServiceLoader extends EventEmitter {\n    constructor(scriptname) {\n        super();\n        this.script = scriptname;\n        const onSuccess = this.onSuccess.bind(this);\n        const onError = this.onError.bind(this);\n        navigator.serviceWorker.register(scriptname)\n            .then((reg) => onSuccess(reg))\n            .catch((err) => onError(err));\n    } \n\n    onSuccess(reg) {\n        console.log(reg.waiting);\n        console.log(reg.installing);\n        let self = this;\n        console.log(\"registed\");\n        if (!navigator.serviceWorker.controller)\n            return;\n\n        if (reg.waiting) {\n            self.emit('update', reg.waiting);\n            return;\n        }\n        if (reg.installing){\n            let track = this.onTrack.bind(this,  reg.installing);\n            track();\n            return;\n        }\n\n        reg.addEventListener('updatefound', function(){\n            console.log(\"update found\");\n            self.onTrack(reg.installing);\n        });\n\n        reg.addEventListener('controllerchange', function(){\n            window.location.reload();\n        });\n    }\n\n    onError(err) {\n        console.error(err);\n    }\n\n    onTrack(event){\n        var self = this;\n        console.log(\"tracking\");\n        event.addEventListener('statechange', function(){\n            if (event.state == 'installed'){\n                self.emit('installed', event);\n            }\n         });\n    }\n\n}\n\nexport default ServiceLoader;\n\n\n// WEBPACK FOOTER //\n// ./client/serviceloader.js","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { reducers } from \"./reducers/index\";\nimport createLogger from \"redux-logger\";\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas';\nlet enhancers;\nconst sagaMiddleWare = createSagaMiddleware();\nconst middleware = applyMiddleware(sagaMiddleWare);\nconst composeEnhancers =\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\nif(process.env.NODE_ENV == 'production'){\n  enhancers =  composeEnhancers(middleware);\n}\nelse{\n  enhancers =  composeEnhancers(middleware);\n}\nconst store = createStore(reducers, {}, enhancers);\nsagaMiddleWare.run(rootSaga);\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./client/store.js","export function roundRect(ctx, x, y, width, height, radius, fill, stroke) {\n    if (typeof stroke == 'undefined') {\n        stroke = true;\n    }\n    if (typeof radius === 'undefined') {\n        radius = 5;\n    }\n    if (typeof radius === 'number') {\n        radius = {tl: radius, tr: radius, br: radius, bl: radius};\n    } else {\n        var defaultRadius = {tl: 0, tr: 0, br: 0, bl: 0};\n        for (var side in defaultRadius) {\n            radius[side] = radius[side] || defaultRadius[side];\n        }\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + radius.tl, y);\n    ctx.lineTo(x + width - radius.tr, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n    ctx.lineTo(x + width, y + height - radius.br);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);\n    ctx.lineTo(x + radius.bl, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n    ctx.lineTo(x, y + radius.tl);\n    ctx.quadraticCurveTo(x, y, x + radius.tl, y);\n    ctx.closePath();\n    if (fill) {\n        ctx.fill();\n    }\n    if (stroke) {\n        ctx.stroke();\n    }\n}\n\nexport function getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\n\nfunction componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n\nfunction rgbToHex(r, g, b) {\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\n\nexport function generateRandomColor(useGrayscale) {\n\n    var baseColor = [256, 256, 256];\n    var red = getRandomInt(0, 256);\n    var green = getRandomInt(0, 256);\n    var blue = getRandomInt(0, 256);\n\n    // mix the color\n\n    var mixture = 0.7;\n\n    red = Math.round(red * mixture + baseColor[0] * (1 - mixture));\n    green = Math.round(green * mixture + baseColor[1] * (1 - mixture));\n    blue = Math.round(blue * mixture + baseColor[2] * (1 - mixture));\n\n    if (useGrayscale.val == 1) {\n        return rgbToHex(red, red, red);\n    }\n    else {\n        return rgbToHex(red, green, blue);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/utils/canvas.js","export * from './canvas';\n\n\n// WEBPACK FOOTER //\n// ./client/utils/index.js","export * from './mapaction';\nexport * from './nodes';\n\n\n// WEBPACK FOOTER //\n// ./client/actions/index.js","import * as props from './properties';\nimport TreeNode from './node';\n\nexport function parseObjectTree(branch, isRoot = false) {\n    var node = new TreeNode(branch.name, isRoot);\n    for (var child of branch.children) {\n        node.addChild(parseObjectTree(child, false));\n    }\n    return node;\n}\n\nexport function parseTree(data) {\n    if (data.children.length == 0) return;\n    return parseObjectTree(data, true);\n}\n\nexport function draw(canvas, data) {\n    var ctx = canvas.getContext('2d');\n    var tree = parseTree(data);\n    console.log(tree);\n    var context = tree.draw();\n    // resize the canvas to fit the drawing...\n    canvas.width = context.width + 25;\n    canvas.height = context.height + 25;\n    ctx.drawImage(context, 25, 25);\n}\n\nexport function transform(data) {\n    const result = {};\n    for (let key in data) {\n        const pair = data[key];\n        console.log(pair);\n        result[\"name\"] = pair[\"label\"];\n        result[\"id\"] = pair[\"id\"];\n        result[\"description\"] = pair[\"description\"];\n        result[\"children\"] = [];\n        const childs = data[key][\"children\"];\n        for (let child_key in childs) {\n            const new_pair = {};\n            new_pair[child_key] = childs[child_key];\n            result[\"children\"].push(transform(new_pair));\n        }\n    }\n    return result;\n}\n\nexport function find(data, id) {\n    if (data['id'] === id) {\n        return data;\n    } else {\n        for(let index in data.children){\n            let child = data.children[index];\n            let value = find(child, id);\n            if(value)\n               return value;\n        }\n    }\n    return;\n}\n\n\n// WEBPACK FOOTER //\n// ./client/maps/index.js"],"sourceRoot":""}